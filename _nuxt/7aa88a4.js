(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{377:function(t,e,o){var content=o(391);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(49).default)("5d739180",content,!0,{sourceMap:!1})},390:function(t,e,o){"use strict";o(377)},391:function(t,e,o){var r=o(48)(!1);r.push([t.i,".Portfolio-admin[data-v-3965c6c2]{width:465px;margin:0 auto;overflow-y:scroll}.Portfolio-admin .Portfolio-admin-header[data-v-3965c6c2]{text-align:right}.Portfolio-admin .Portfolio-admin-header .btn-mode[data-v-3965c6c2]{padding:2px;background-color:#000;color:#fff;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.Portfolio-admin .Portfolio-admin-header .btn-mode[data-v-3965c6c2]:hover{cursor:pointer}.Portfolio-admin .Portfolio-admin-header .insert[data-v-3965c6c2]{background-color:#fff;color:#000}.Portfolio-admin p[data-v-3965c6c2]{margin:0}.Portfolio-admin p input[data-v-3965c6c2],.Portfolio-admin p textarea[data-v-3965c6c2]{border:0;width:100%;box-sizing:border-box}.Portfolio-admin .Portfolio-admin-techlist li[data-v-3965c6c2]{display:inline-block;margin-left:.3vw;margin-right:.3vw;color:#222;background-color:#666;padding:.3vw;font-weight:500}.Portfolio-admin .Portfolio-admin-techlist li[data-v-3965c6c2]:hover{cursor:pointer;background-color:#fff}.Portfolio-admin .Portfolio-admin-techlist .my-work[data-v-3965c6c2]{background-color:#ddd;color:#000}.Portfolio-admin .Portfolio-admin-techlist .my-work[data-v-3965c6c2]:hover{cursor:pointer;background-color:#fff}.Portfolio-admin .Portfolio-admin-imglist li[data-v-3965c6c2]{display:inline-block}.Portfolio-admin .Portfolio-admin-imglist li img[data-v-3965c6c2]{width:10vw}.Portfolio-admin .btn-submit[data-v-3965c6c2]{float:right}",""]),t.exports=r},410:function(t,e,o){"use strict";o.r(e);o(10),o(27);var r={components:{},data:function(){return{portfolioPreview:{title:"",type:"",date:{start:{year:"",month:""},end:{year:"",month:""}},desc:"",pointlist:[],techlist:[],images:[],timestamp:""},dataList:[],titleList:[],pointText:"",techText:"",modeFlag:!1,uploading:!1,yearCount:(new Date).getFullYear()-2010}},methods:{onSubmit:function(data){if(this.uploading)return alert("이미지가 업로드중입니다. 잠시 후 다시 해라"),-1;this.portfolioPreview.timestamp=(new Date).getTime();var t,e,o=this.$fire.firestore.batch();t={title:data.title,date:data.date,type:data.type,thumbnailUrl:data.images[0]},e=Object.assign({},data);var r=this.$fire.firestore.collection("Snippets").doc(data.title),n=this.$fire.firestore.collection("Portfolio").doc(data.title);console.log("sending data..."),this.modeFlag?(o.update(n,e),o.update(r,t)):(o.set(n,e),o.set(r,t)),o.commit().then((function(t){console.log("data is succesfully saved.."),console.log(t)}))},getTitlelist:function(){},onChangeMode:function(){var t=this.$fire.firestore.collection("Portfolio");this.modeFlag=!this.modeFlag,this.portfolioPreview={title:"",type:"",date:{start:{year:"",month:""},end:{year:"",month:""}},desc:"",pointlist:[],techlist:[],images:[]},this.titleList=[],this.modeFlag&&t.get().then((function(t){var e=this;t.forEach((function(t){e.titleList.push(t.data().title),e.dataList[t.data().title]=t.data()})),console.log(this.titleList)}))},onChangeselect:function(){this.portfolioPreview=this.dataList[this.portfolioPreview.title]},onEnterPointlist:function(text){this.portfolioPreview.pointlist.push(text),this.pointText=""},onEnterTechlist:function(text){this.portfolioPreview.techlist.push({text:text,duty:!1}),this.techText=""},addTeclistClass:function(t){console.log(t),this.portfolioPreview.techlist[t].duty=!this.portfolioPreview.techlist[t].duty},uploadImage:function(t){var e=this;if(t){this.uploading=!0;var o=this.$fire.storage.ref(),r=t[0],n=+new Date+"_"+r.name;o.child("portfolio/thumbnails/"+n).put(r).then((function(t){e.uploading=!1,alert("업로드 성공!"),t.ref.getDownloadURL().then((function(t){t&&e.portfolioPreview.images.push(t)}))}))}}},mounted:function(){}},n=(o(390),o(37)),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Portfolio-admin"},[o("h3",{staticClass:"Portfolio-admin-header"},[o("span",{staticClass:"btn-mode",class:{insert:t.modeFlag},on:{click:function(e){return t.onChangeMode()}}},[t._v(t._s(t.modeFlag?"수정 모드":"입력 모드"))])]),t._v(" "),o("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(t.portfolioPreview)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),e.target!==e.currentTarget?null:t.onSubmit(t.portfolioPreview))}}},[o("label",[t._v("프로젝트")]),t._v(" "),t.modeFlag?o("p",[o("select",{directives:[{name:"model",rawName:"v-model",value:t.portfolioPreview.title,expression:"portfolioPreview.title"}],on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.portfolioPreview,"title",e.target.multiple?o:o[0])},function(e){return t.onChangeselect()}]}},t._l(t.titleList,(function(title,e){return o("option",{key:e,domProps:{value:title}},[t._v("\n          "+t._s(title)+"\n        ")])})),0)]):o("p",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.portfolioPreview.title,expression:"portfolioPreview.title"}],attrs:{type:"text",name:"title",id:"title",placeholder:"프로젝트 이름"},domProps:{value:t.portfolioPreview.title},on:{input:function(e){e.target.composing||t.$set(t.portfolioPreview,"title",e.target.value)}}})]),t._v(" "),o("label",[t._v("종류")]),t._v(" "),o("p",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.portfolioPreview.type,expression:"portfolioPreview.type"}],attrs:{type:"text",name:"text",id:"type",placeholder:"종류"},domProps:{value:t.portfolioPreview.type},on:{input:function(e){e.target.composing||t.$set(t.portfolioPreview,"type",e.target.value)}}})]),t._v(" "),o("label",[t._v("개발 기간")]),t._v(" "),o("p",[o("select",{directives:[{name:"model",rawName:"v-model",value:t.portfolioPreview.date.start.year,expression:"portfolioPreview.date.start.year"}],attrs:{id:"date-start-year"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.portfolioPreview.date.start,"year",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("시작년")]),t._v(" "),t._l(t.yearCount,(function(e){return o("option",{key:e},[t._v("\n          "+t._s(2010+e)+"\n        ")])}))],2),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.portfolioPreview.date.start.month,expression:"portfolioPreview.date.start.month"}],attrs:{id:"date-start-month"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.portfolioPreview.date.start,"month",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("시작월")]),t._v(" "),t._l(12,(function(e){return o("option",{key:e},[t._v(t._s(e))])}))],2),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.portfolioPreview.date.end.year,expression:"portfolioPreview.date.end.year"}],attrs:{id:"date-end-year"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.portfolioPreview.date.end,"year",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("종료년")]),t._v(" "),o("option",{attrs:{value:"진행중"}},[t._v(t._s(0))]),t._v(" "),t._l(t.yearCount,(function(e){return o("option",{key:e},[t._v("\n          "+t._s(2010+e)+"\n        ")])}))],2),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.portfolioPreview.date.end.month,expression:"portfolioPreview.date.end.month"}],attrs:{id:"date-end-month"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.portfolioPreview.date.end,"month",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("종료월")]),t._v(" "),o("option",[t._v(t._s(0))]),t._v(" "),t._l(12,(function(e){return o("option",{key:e},[t._v(t._s(e))])}))],2)]),t._v(" "),o("label",[t._v("설명")]),t._v(" "),o("p",[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.portfolioPreview.desc,expression:"portfolioPreview.desc"}],attrs:{rows:"4",cols:"50"},domProps:{value:t.portfolioPreview.desc},on:{input:function(e){e.target.composing||t.$set(t.portfolioPreview,"desc",e.target.value)}}})]),t._v(" "),o("label",[t._v("주요 기능")]),t._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.pointText,expression:"pointText"}],attrs:{type:"text"},domProps:{value:t.pointText},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnterPointlist(t.pointText)},input:function(e){e.target.composing||(t.pointText=e.target.value)}}}),t._v(" "),o("ul",t._l(t.portfolioPreview.pointlist,(function(e){return o("li",{key:e},[t._v("\n          "+t._s(e)+"\n        ")])})),0)]),t._v(" "),o("label",[t._v("기술")]),t._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.techText,expression:"techText"}],attrs:{type:"text"},domProps:{value:t.techText},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnterTechlist(t.techText)},input:function(e){e.target.composing||(t.techText=e.target.value)}}}),t._v(" "),o("ul",{staticClass:"Portfolio-admin-techlist"},t._l(t.portfolioPreview.techlist,(function(e,r){return o("li",{key:e.text,class:{"my-work":e.duty},on:{click:function(e){return t.addTeclistClass(r)}}},[t._v("\n          "+t._s(e.text)+"\n        ")])})),0)]),t._v(" "),o("label",[t._v("이미지 *The first image is a thumbnail")]),t._v(" "),o("p",[o("input",{attrs:{type:"file",name:"이미지",accept:"image/*"},on:{change:function(e){return t.uploadImage(e.target.files)}}})]),t._v(" "),o("ul",{staticClass:"Portfolio-admin-imglist"},t._l(t.portfolioPreview.images,(function(t){return o("li",{key:t},[o("img",{attrs:{src:t}})])})),0),t._v(" "),o("input",{staticClass:"btn-submit",attrs:{type:"submit",value:"전송"}}),t._v(" "),o("ul",t._l(t.portfolioPreview.images,(function(t){return o("li",{key:t})})),0)])])}),[],!1,null,"3965c6c2",null);e.default=component.exports}}]);